{"mappings":"YAAA,IAAMA,EAAO,2BACPC,EAAM,qCAOG,SAAAC,EAAqBC,G,IAAOC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EAChD,OAAOE,MAAM,GAAeC,OAAZR,EAAK,SAAgBQ,OAATP,EAAI,OAA2EO,OAAtEL,EAAM,kEAAqEK,OAALJ,EAAK,gBAC/GK,MAAK,SAAAC,G,OAAOA,EAAIC,UCRnB,IAAMC,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAOH,SAASC,cAAc,SAChCG,EAAO,EAEXL,EAAKM,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cAAcC,SAASC,YAAYrB,MAAMsB,OACxDvB,EAAYmB,GAAMZ,MAAK,SAACiB,GAS1B,IAAsBC,EAGdC,GAXJX,EAAO,EACHI,IAOcM,EAHLD,EAAKG,KAMdD,EAASD,EAAIG,QAAO,SAACC,EAAGC,G,IAAGC,EAAYD,EAAZC,aAAcC,EAAaF,EAAbE,cAAeC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAAKL,EAALK,MAAOC,EAAQN,EAARM,SAAUC,EAASP,EAATO,UAC3F,OAAOR,EAAO,2CACsBvB,OAAvB0B,EAAc,WAEb1B,OAFsB2B,EAAK,yFAIzB3B,OAFFyB,EAAa,iEAKXzB,OAHA4B,EAAM,oEAMH5B,OAHH6B,EAAM,uEAMF7B,OAHD8B,EAAS,wEAGE9B,OAAV+B,EAAU,6CAK/BxB,EAAQyB,UAAYZ,GA7BhBa,QAAQC,IAAI,kFAgClB1B,EAAKE,iBAAiB,SAEtB,SAAoBC,GAClBjB,EAAYe,GAAQ,GAAGR,MAAK,SAAAC,GAC1B+B,QAAQC,IAAIhC,EAAImB,Y","sources":["src/fetchPhotos.js","src/index.js"],"sourcesContent":["const base = 'https://pixabay.com/api/';\nconst key = '29429683-7d5809707a43a8cff1be91c83';\n// const options = {\n//   headers: {\n//     authorization: key\n//   }\n// }\n// https://pixabay.com/api/?key=29429683-7d5809707a43a8cff1be91c83&q=yellow+flowers&image_type=photo\nexport default function fetchPhotos(value, page = 1) {\n  return fetch(`${base}?key=${key}&q=${value}&image_type=photo&orientation=horisontal&safesearch=true&page=${page}&per_page=5`)\n  .then(res => res.json())\n}\n","import fetchPhotos from './fetchPhotos.js'\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst load = document.querySelector('.load')\nlet page = 1;\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const item = e.currentTarget.elements.searchQuery.value.trim();\n  fetchPhotos(item).then((data) => {\n    page = 1\n    if(!item){\n      console.log('Sorry, there are no images matching your search query. Please try again.')\n      return\n    }\n    createMarkup(data.hits)})\n}\n\nfunction createMarkup(obj) {\n  // console.log(JSON.stringify(obj))\n  // console.log(Object.values(obj))\n  const markup = obj.reduce((acc, {webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n   return acc += `<div class=\"photo-card\">\n    <img src=\"${largeImageURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"300\" height=\"300\" />\n    <div class=\"info\">\n      <a href=\"${webformatURL}\">clickMe</a>\n      <p class=\"info-item\">\n        <b>Likes ${likes}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Views ${views}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Comments ${comments}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads ${downloads}</b>\n      </p>\n    </div>\n  </div>`\n })\n  gallery.innerHTML = markup\n}\n\nload.addEventListener('click', onLoadMore)\n\nfunction onLoadMore(e){\n  fetchPhotos(page += 1).then(res => {\n    console.log(res.hits)\n    // const markup = createMarkup(res.hits)\n    // gallery.insertAdjacentElement('beforeend', markup)\n  })\n}"],"names":["$f3a2d4938c501c2c$var$base","$f3a2d4938c501c2c$var$key","$f3a2d4938c501c2c$export$2e2bcd8739ae039","value","page","arguments","length","fetch","concat","then","res","json","$b8f9b7833fa37166$var$form","document","querySelector","$b8f9b7833fa37166$var$gallery","$b8f9b7833fa37166$var$load","$b8f9b7833fa37166$var$page","addEventListener","e","preventDefault","item","currentTarget","elements","searchQuery","trim","data","obj","markup","hits","reduce","acc","param","webformatURL","largeImageURL","tags","likes","views","comments","downloads","innerHTML","console","log"],"version":3,"file":"index.915246f2.js.map"}