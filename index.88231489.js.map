{"mappings":"AAQe,SAAAA,EAAqBC,EAAOC,EAAO,GAChD,OAAOC,MAAM,qEAAwBF,kEAAsEC,gBAC1GE,MAAKC,GAAOA,EAAIC,SCRnB,MAAMC,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAOH,SAASC,cAAc,SACpC,IAAIG,EAAO,EACPC,EAAQ,GAoBZ,SAASC,EAAaC,GAGpB,OAAOA,EAAIC,QAAO,CAACC,GAAIC,aAACA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAC3EP,EAAO,2CACDE,WAAuBC,yFAEtBF,iEAEEG,oEAGAC,uEAGGC,wEAGCC,2CAInB,IAxCJjB,EAAKkB,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAEC,iBACFjB,EAAQkB,UAAY,GACpBf,EAAQa,EAAEG,cAAcC,SAASC,YAAY9B,MAAM+B,OACnDhC,EAAYa,GAAOT,MAAM6B,IACvBrB,EAAO,EACHC,EAIJH,EAAQkB,UAAYd,EAAamB,EAAKC,MAHpCC,QAAQC,IAAI,kFAoClBzB,EAAKc,iBAAiB,SAEtB,SAAoBC,GAClBd,GAAQ,EACRZ,EAAYa,EAAOD,GAAMR,MAAKC,IAC5B8B,QAAQC,IAAI/B,EAAI6B,MAChBxB,EAAQ2B,mBAAmB,YAAavB,EAAaT,EAAI6B","sources":["src/fetchPhotos.js","src/index.js"],"sourcesContent":["const base = 'https://pixabay.com/api/';\nconst key = '29429683-7d5809707a43a8cff1be91c83';\n// const options = {\n//   headers: {\n//     authorization: key\n//   }\n// }\n// https://pixabay.com/api/?key=29429683-7d5809707a43a8cff1be91c83&q=yellow+flowers&image_type=photo\nexport default function fetchPhotos(value, page = 1) {\n  return fetch(`${base}?key=${key}&q=${value}&image_type=photo&orientation=horisontal&safesearch=true&page=${page}&per_page=3`)\n  .then(res => res.json())\n}\n","import fetchPhotos from './fetchPhotos.js'\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst load = document.querySelector('.load')\nlet page = 1;\nlet query = '';\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  query = e.currentTarget.elements.searchQuery.value.trim();\n  fetchPhotos(query).then((data) => {\n    page = 1\n    if(!query){\n      console.log('Sorry, there are no images matching your search query. Please try again.')\n      return\n    }\n    gallery.innerHTML = createMarkup(data.hits)})\n  \n    // .catch(err => console.log(err))\n    // .finally(gallery.innerHTML = '');\n}\n\nfunction createMarkup(obj) {\n  // console.log(JSON.stringify(obj))\n  // console.log(Object.values(obj))\n  return obj.reduce((acc,{webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n   return acc += `<div class=\"photo-card\">\n    <img src=\"${largeImageURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"300\" height=\"300\" />\n    <div class=\"info\">\n      <a href=\"${webformatURL}\">clickMe</a>\n      <p class=\"info-item\">\n        <b>Likes ${likes}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Views ${views}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Comments ${comments}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads ${downloads}</b>\n      </p>\n    </div>\n  </div>`\n }, '')\n//  .join('')\n  // gallery.insertAdjacentHTML('beforeend', markup)\n}\n\nload.addEventListener('click', onLoadMore)\n\nfunction onLoadMore(e){\n  page += 1\n  fetchPhotos(query, page).then(res => {\n    console.log(res.hits)\n    gallery.insertAdjacentHTML('beforeend', createMarkup(res.hits))\n  })\n}"],"names":["$8239a7b43006364b$export$2e2bcd8739ae039","value","page","fetch","then","res","json","$1f0dc3b9307be026$var$form","document","querySelector","$1f0dc3b9307be026$var$gallery","$1f0dc3b9307be026$var$load","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$query","$1f0dc3b9307be026$var$createMarkup","obj","reduce","acc","webformatURL","largeImageURL","tags","likes","views","comments","downloads","addEventListener","e","preventDefault","innerHTML","currentTarget","elements","searchQuery","trim","data","hits","console","log","insertAdjacentHTML"],"version":3,"file":"index.88231489.js.map"}