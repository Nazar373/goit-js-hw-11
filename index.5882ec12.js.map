{"mappings":"AAQe,SAAAA,EAAqBC,EAAOC,EAAO,GAChD,OAAOC,MAAM,qEAAwBF,kEAAsEC,gBAC1GE,MAAKC,GAAOA,EAAIC,SCRnB,MAAMC,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAOH,SAASC,cAAc,SACpC,IAAIG,EAAO,EAEXL,EAAKM,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAEC,iBACF,MAAMC,EAAOF,EAAEG,cAAcC,SAASC,YAAYlB,MAAMmB,OACxDpB,EAAYgB,GAAMZ,MAAMiB,IACtBT,EAAO,EACHI,EAOR,SAAsBM,GAGpB,MAAMC,EAASD,EAAIE,QAAO,CAACC,GAAKC,aAACA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KACpFP,EAAO,2CACDE,WAAuBC,yFAEtBF,iEAEEG,oEAGAC,uEAGGC,wEAGCC,4CAKrBtB,EAAQuB,UAAYV,EA1BlBW,CAAab,EAAKc,MAHhBC,QAAQC,IAAI,kFAgClB1B,EAAKE,iBAAiB,SAEtB,SAAoBC,GAClBd,EAAYY,GAAQ,GAAGR,MAAKC,IAC1B+B,QAAQC,IAAIhC,EAAI8B","sources":["src/fetchPhotos.js","src/index.js"],"sourcesContent":["const base = 'https://pixabay.com/api/';\nconst key = '29429683-7d5809707a43a8cff1be91c83';\n// const options = {\n//   headers: {\n//     authorization: key\n//   }\n// }\n// https://pixabay.com/api/?key=29429683-7d5809707a43a8cff1be91c83&q=yellow+flowers&image_type=photo\nexport default function fetchPhotos(value, page = 1) {\n  return fetch(`${base}?key=${key}&q=${value}&image_type=photo&orientation=horisontal&safesearch=true&page=${page}&per_page=5`)\n  .then(res => res.json())\n}\n","import fetchPhotos from './fetchPhotos.js'\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst load = document.querySelector('.load')\nlet page = 1;\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const item = e.currentTarget.elements.searchQuery.value.trim();\n  fetchPhotos(item).then((data) => {\n    page = 1\n    if(!item){\n      console.log('Sorry, there are no images matching your search query. Please try again.')\n      return\n    }\n    createMarkup(data.hits)})\n}\n\nfunction createMarkup(obj) {\n  // console.log(JSON.stringify(obj))\n  // console.log(Object.values(obj))\n  const markup = obj.reduce((acc, {webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n   return acc += `<div class=\"photo-card\">\n    <img src=\"${largeImageURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"300\" height=\"300\" />\n    <div class=\"info\">\n      <a href=\"${webformatURL}\">clickMe</a>\n      <p class=\"info-item\">\n        <b>Likes ${likes}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Views ${views}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Comments ${comments}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads ${downloads}</b>\n      </p>\n    </div>\n  </div>`\n })\n  gallery.innerHTML = markup\n}\n\nload.addEventListener('click', onLoadMore)\n\nfunction onLoadMore(e){\n  fetchPhotos(page += 1).then(res => {\n    console.log(res.hits)\n    // const markup = createMarkup(res.hits)\n    // gallery.insertAdjacentElement('beforeend', markup)\n  })\n}"],"names":["$8239a7b43006364b$export$2e2bcd8739ae039","value","page","fetch","then","res","json","$1f0dc3b9307be026$var$form","document","querySelector","$1f0dc3b9307be026$var$gallery","$1f0dc3b9307be026$var$load","$1f0dc3b9307be026$var$page","addEventListener","e","preventDefault","item","currentTarget","elements","searchQuery","trim","data","obj","markup","reduce","acc","webformatURL","largeImageURL","tags","likes","views","comments","downloads","innerHTML","$1f0dc3b9307be026$var$createMarkup","hits","console","log"],"version":3,"file":"index.5882ec12.js.map"}