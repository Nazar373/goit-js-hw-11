{"mappings":"YAAA,IAAMA,EAAO,2BACPC,EAAM,qCAOG,SAAAC,EAAqBC,G,IAAOC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EAChD,OAAOE,MAAM,GAAeC,OAAZR,EAAK,SAAgBQ,OAATP,EAAI,OAA2EO,OAAtEL,EAAM,kEAAqEK,OAALJ,EAAK,gBAC/GK,MAAK,SAAAC,G,OAAOA,EAAIC,UCRnB,IAAMC,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAOH,SAASC,cAAc,SAChCG,EAAO,EACPC,EAAQ,GAoBZ,SAASC,EAAaC,GAGpB,OAAOA,EAAIC,QAAO,SAACC,EAAGC,G,IAAEC,EAAYD,EAAZC,aAAcC,EAAaF,EAAbE,cAAeC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAAKL,EAALK,MAAOC,EAAQN,EAARM,SAAUC,EAASP,EAATO,UAClF,OAAOR,EAAO,2CACsBd,OAAvBiB,EAAc,WAEbjB,OAFsBkB,EAAK,yFAIzBlB,OAFFgB,EAAa,iEAKXhB,OAHAmB,EAAM,oEAMHnB,OAHHoB,EAAM,uEAMFpB,OAHDqB,EAAS,wEAGErB,OAAVsB,EAAU,4CAI7B,IAxCJlB,EAAKmB,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAEC,iBACFlB,EAAQmB,UAAY,GAEpBhC,EADAgB,EAAQc,EAAEG,cAAcC,SAASC,YAAYlC,MAAMmC,QAChC7B,MAAK,SAAC8B,GACvBtB,EAAO,EACHC,EAIJH,EAAQmB,UAAYf,EAAaoB,EAAKC,MAHpCC,QAAQC,IAAI,kFAoClB1B,EAAKe,iBAAiB,SAEtB,SAAoBC,GAElB9B,EAAYgB,EADZD,GAAQ,GACiBR,MAAK,SAAAC,GAC5B+B,QAAQC,IAAIhC,EAAI8B,MAChBzB,EAAQ4B,mBAAmB,YAAaxB,EAAaT,EAAI8B,a","sources":["src/fetchPhotos.js","src/index.js"],"sourcesContent":["const base = 'https://pixabay.com/api/';\nconst key = '29429683-7d5809707a43a8cff1be91c83';\n// const options = {\n//   headers: {\n//     authorization: key\n//   }\n// }\n// https://pixabay.com/api/?key=29429683-7d5809707a43a8cff1be91c83&q=yellow+flowers&image_type=photo\nexport default function fetchPhotos(value, page = 1) {\n  return fetch(`${base}?key=${key}&q=${value}&image_type=photo&orientation=horisontal&safesearch=true&page=${page}&per_page=3`)\n  .then(res => res.json())\n}\n","import fetchPhotos from './fetchPhotos.js'\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst load = document.querySelector('.load')\nlet page = 1;\nlet query = '';\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  query = e.currentTarget.elements.searchQuery.value.trim();\n  fetchPhotos(query).then((data) => {\n    page = 1\n    if(!query){\n      console.log('Sorry, there are no images matching your search query. Please try again.')\n      return\n    }\n    gallery.innerHTML = createMarkup(data.hits)})\n  \n    // .catch(err => console.log(err))\n    // .finally(gallery.innerHTML = '');\n}\n\nfunction createMarkup(obj) {\n  // console.log(JSON.stringify(obj))\n  // console.log(Object.values(obj))\n  return obj.reduce((acc,{webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n   return acc += `<div class=\"photo-card\">\n    <img src=\"${largeImageURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"300\" height=\"300\" />\n    <div class=\"info\">\n      <a href=\"${webformatURL}\">clickMe</a>\n      <p class=\"info-item\">\n        <b>Likes ${likes}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Views ${views}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Comments ${comments}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads ${downloads}</b>\n      </p>\n    </div>\n  </div>`\n }, '')\n//  .join('')\n  // gallery.insertAdjacentHTML('beforeend', markup)\n}\n\nload.addEventListener('click', onLoadMore)\n\nfunction onLoadMore(e){\n  page += 1\n  fetchPhotos(query, page).then(res => {\n    console.log(res.hits)\n    gallery.insertAdjacentHTML('beforeend', createMarkup(res.hits))\n  })\n}"],"names":["$f3a2d4938c501c2c$var$base","$f3a2d4938c501c2c$var$key","$f3a2d4938c501c2c$export$2e2bcd8739ae039","value","page","arguments","length","fetch","concat","then","res","json","$b8f9b7833fa37166$var$form","document","querySelector","$b8f9b7833fa37166$var$gallery","$b8f9b7833fa37166$var$load","$b8f9b7833fa37166$var$page","$b8f9b7833fa37166$var$query","$b8f9b7833fa37166$var$createMarkup","obj","reduce","acc","param","webformatURL","largeImageURL","tags","likes","views","comments","downloads","addEventListener","e","preventDefault","innerHTML","currentTarget","elements","searchQuery","trim","data","hits","console","log","insertAdjacentHTML"],"version":3,"file":"index.f088e2cd.js.map"}